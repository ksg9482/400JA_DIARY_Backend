# 400JA_DIARY

## 기획
하루 400자, 가볍게 일기를 쓰는 웹 어플리케이션입니다.   
다양한 일기 웹/ 앱이 있지만 있는걸 그냥 사용하는 것 보다는 직접 만들어 보면서 필요한 기능을 구현하자는 생각에 기획하게 되었습니다.
처음에는 단순한 기능만 넣어서 개발할 생각이며 이는 새로운 기술 스택이 여러개 추가되는데 괜히 처음부터 대규모로 만들면 오류만 커진다고 판단했기 때문입니다.

___

## 프론트엔드
* 소셜로그인 구현
* 리액트를 이용한 SPA 구현

### 프론트엔드 기술 스택
* React
* Axios
  * 기본적으로 탑재된 fetch보다는 느리지만, 비동기의 특성상 확연한 차이는 없을 것이라 생각했기 때문에 쉽고 읽기 편한 점을 살리기 위해 선택했습니다.
* TailwindCSS
  * 규격화된 CSS를 이용해서 생산성을 높이기 위해 선택했습니다.

___

## 백엔드
* NoSQL의 텍스트 검색능력을 살린다
* 코드 재사용성을 높인다
* Swagger를 이용한 API 명세서 작성

### 백엔드 기술 스택
* Node.Js
* Express
  * NestJs도 있지만 npm을 직접 선택하면서 필요한 기능을 하나하나 살펴보기 위해 Express를 선택했습니다.
* mongoDB
  * 텍스트로 데이터가 구성되고 단어 기준으로 전문검색을 해야하기 때문에 NoSQL을 사용할만 하다고 판단했습니다.
* Nginx
  * 동작을 담당하는 서버를 보호하고 서버 부담을 경감해줍니다.
* Docker
  * 백엔드 환경 균일화
  * PM2 활용
* Jest
  * 간단하게 사용할 수 있고, unit test를 최대한 구현해보기 위해 선택했습니다.
* Swagger
  * Git Book이나 다른 방법을 통해 API명세를 작성할 수도 있지만 실제 API상황을 빠르고 정확하게 전달하기에는 Swagger가 좋을 것이라 판단했습니다.

___

## 페이지 구성
* 로그인 페이지
  * 일반 회원가입, Oauth(네이버, 구글, 카카오) 
  * 비밀번호 분실시 임시비밀번호 발급
* 메인페이지
  * 일기 생성 - 제목 입력과 본문 입력으로 구성. 당일에 이미 작성한 일기가 있다면 일기를 업데이트
  * 일기 모아보기 - 최신 날짜를 기준으로 역순. 무한스크롤 기능
  * 일기 검색 - 키워드(단어) 검색과 날짜 기준 검색
* 마이페이지
  * 공통 - 등록된 이메일, 회원탈퇴, 일기 총 작성 횟수
  * 일반회원 - 비밀번호 변경 가능
  * 소셜로그인 - 비밀번호 변경 불가
* 헤더 바 - 메인페이지, 마이페이지, 로그아웃
___

### 도커 컴포즈
sudo user=root pass=pass env=.env docker-compose up -d

### 소프트웨어 구조
소프트웨어 구조는 아래 링크를 참조해서 구현했습니다. 개발을 완료한 후에도 공부한 내용을 지속적으로 적용해 리팩토링할 예정이기 때문에 최대한 잘 구성된 견본을 따르려는 의도입니다. 

[견고한 node.js 프로젝트 설계하기](https://velog.io/@hopsprings2/%EA%B2%AC%EA%B3%A0%ED%95%9C-node.js-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90-%EC%84%A4%EA%B3%84%ED%95%98%EA%B8%B0)

___

#### 개선점
* postman으로만 검사하고 E2E 테스트를 작성하지 않았다.
* 객체지향도 함수형 프로그래밍도 제대로 적용하지 못해서 두 패러다임이 제공하는 강점이 제대로 발휘되지 않았다.
* 백엔드에 신경쓴 나머지 프론트엔드는 저번 프론트엔드 구현과 비교하면 크게 개선되지 않았다.

#### 후기
좋았던 점과 아쉬웠던 점을 하나씩 꼽자면, 좋았던 점은 프론트엔드와 백엔드를 혼자서 만들어보니 프론트엔드가 백엔드에 바라는 점과 백엔드가 프론트엔드에 바라는 점을 제대로 느낄 수 있었다는 점입니다.

가령 무한스크롤을 구현할 때 프론트엔드에서 현재 가지고 있는 컨텐츠 이후의 데이터를 요청할 뿐이지만, 백엔드에서 데이터를 전할 때 데이터만 전달하는지 아니면 그 데이터가 마지막인지 여부 또한 전해주는지에 따라 기능을 얼마나 수월하게 개발할 수 있는지 달랐습니다.

아쉬웠던 점은 완성된 구조가 제대로된 객체지향의 모습도, 제대로된 함수형 프로그래밍도 아니라 어중간한 모습이라는 점입니다. 결국 어정쩡한 수준으로 알고있으니 결과물도 어정쩡한 것 아닌가 하는 아쉬움이 있습니다.

개발 중간에 정말 개발자가 내게 맞는가 하는 흔들림이 있어서 정신 추스리는데 시간이 걸렸습니다. 신기한건 흔들림을 극복하니 프로젝트 초기보다 더한 열정이 생겨났습니다. 아직 제대로 하지도 않았는데 슬럼프에 빠지다니 지금 생각하면 우습기도 합니다. 정말이지 제겐 성장통과 같은 프로젝트 였습니다.
